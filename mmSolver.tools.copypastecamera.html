
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mmSolver.tools.copypastecamera &#8212; mayaMatchMoveSolver master documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="mmSolver.tools.createbundle" href="mmSolver.tools.createbundle.html" />
    <link rel="prev" title="mmSolver.tools.convertmarker" href="mmSolver.tools.convertmarker.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmSolver.tools.createbundle.html" title="mmSolver.tools.createbundle"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mmSolver.tools.convertmarker.html" title="mmSolver.tools.convertmarker"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mayaMatchMoveSolver master documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmSolver.tools.html" accesskey="U">mmSolver.tools</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-mmSolver.tools.copypastecamera">
<span id="mmsolver-tools-copypastecamera"></span><h1>mmSolver.tools.copypastecamera<a class="headerlink" href="#module-mmSolver.tools.copypastecamera" title="Permalink to this headline">¶</a></h1>
<p>Tool to convert a Maya Camera (and Image Plane) into a file format
readable by third-party software (for example, 3DEqualizer).</p>
<p>The aim is to make the tool similar to the Load Markers tool, allowing
minimal set-up time for getting data between Maya and
3DEqualizer.</p>
<div class="section" id="tools">
<h2>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mmSolver.tools.copypastecamera.lib">
<span id="library"></span><h2>Library<a class="headerlink" href="#module-mmSolver.tools.copypastecamera.lib" title="Permalink to this headline">¶</a></h2>
<p>The Copy/Paste Camera library functions.</p>
<p>The file saved will contain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Camera</span> <span class="n">Name</span>

<span class="o">-</span> <span class="n">Image</span> <span class="n">Plane</span> <span class="n">File</span> <span class="n">Path</span>

<span class="o">-</span> <span class="n">Pixel</span> <span class="n">Aspect</span> <span class="n">Ratio</span> <span class="p">(</span><span class="n">static</span><span class="p">)</span>

<span class="o">-</span> <span class="n">Camera</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span>

<span class="o">-</span> <span class="n">Camera</span> <span class="n">Rotation</span> <span class="p">(</span><span class="n">animated</span> <span class="o">-</span> <span class="ow">in</span> <span class="n">ZXY</span> <span class="n">rotation</span> <span class="n">order</span><span class="p">)</span>

<span class="o">-</span> <span class="n">Camera</span> <span class="n">Film</span> <span class="n">Back</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span>

<span class="o">-</span> <span class="n">Camera</span> <span class="n">Film</span> <span class="n">Offsets</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span>

<span class="o">-</span> <span class="n">Camera</span> <span class="n">Focal</span> <span class="n">Length</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span>
</pre></div>
</div>
<p>This tool does not store Lens Distortion (the Image Plane File Path is
assumed to be undistorted/flattened). A future version of this tool
and file format may support lens distortion, if it were saved in Maya
in a standardized way.</p>
<p>The JSON dictionary format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;start_frame&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;end_frame&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;file_path&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="c1"># or None</span>
            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>     <span class="c1"># or None</span>
            <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>    <span class="c1"># or None</span>
            <span class="s1">&#39;pixel_aspect_ratio&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>  <span class="c1"># or None</span>
        <span class="p">},</span>
        <span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="nb">str</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.get_image_path_tokens">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">get_image_path_tokens</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.get_image_path_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a file_path in the format of ‘file.1001.ext’ or
‘file_1001.ext’ into tokens.</p>
<p>The file_path can be a full path, not just a file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with keys ‘name’, ‘frame’ and ‘ext’, or None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.get_image_path_single_frame">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">get_image_path_single_frame</code><span class="sig-paren">(</span><em>file_path</em>, <em>test_disk</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.get_image_path_single_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the file_path is represents a single file, or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image_path</strong> (<em>basestring</em>) – The input image path to test.</li>
<li><strong>test_disk</strong> (<em>bool</em>) – Should we access the disk to find files, or just test
the string and assume the file exists?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Image file path and boolean of whether the image path
represents an image sequence, or not.
Returns (None, None) if the function cannot determine
the values accurately.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(str, bool) or (None, None)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.get_image_path_multi_frame">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">get_image_path_multi_frame</code><span class="sig-paren">(</span><em>image_path</em>, <em>test_disk</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.get_image_path_multi_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the given image_path represents multiple frames or
not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image_path</strong> (<em>basestring</em>) – The input image path to test.</li>
<li><strong>test_disk</strong> (<em>bool</em>) – Should we access the disk to find multiple frames, or just test
the string and assume the files exist?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Image file path and boolean of whether the image path
represents an image sequence, or not.
Returns (None, None) if the function cannot determine
the values accurately.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(str, bool) or (None, None)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.get_image_path_pattern">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">get_image_path_pattern</code><span class="sig-paren">(</span><em>image_name</em>, <em>use_frame_ext</em>, <em>test_disk=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.get_image_path_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the image path pattern, for the given Maya imagePlane path.</p>
<p>Assumptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="s1">&#39;#&#39;</span> <span class="n">character</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">image_name</span> <span class="n">string</span><span class="o">.</span>

<span class="o">-</span> <span class="s1">&#39;?&#39;</span> <span class="n">character</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">image_name</span> <span class="n">string</span><span class="o">.</span>

<span class="o">-</span> <span class="s1">&#39;*&#39;</span> <span class="n">character</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">image_name</span> <span class="n">string</span><span class="o">.</span>

<span class="o">-</span> <span class="n">An</span> <span class="n">animated</span> <span class="n">image</span> <span class="n">sequence</span> <span class="n">uses</span> <span class="n">the</span> <span class="n">file</span> <span class="n">naming</span> <span class="n">pattern</span>
  <span class="s1">&#39;file.####.ext&#39;</span> <span class="ow">or</span> <span class="s1">&#39;file.ext&#39;</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="s1">&#39;image.1001.jpg&#39;</span>
  <span class="ow">or</span> <span class="s1">&#39;image.jpg&#39;</span><span class="o">.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If test_disk is True, this function will query the file
path and directory on disk (not just string assumptions).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>image_name</strong> (<em>str</em>) – Maya imagePlane file (sequence) path.</li>
<li><strong>use_frame_ext</strong> (<em>bool</em>) – The value of imagePlane node’s
‘useFrameExtension’ attribute.</li>
<li><strong>test_disk</strong> (<em>bool</em>) – Is this function allowed to query the file on
disk and make calls to the disk? If not we use
only string manipulation but do not test
(for example) the actual file existence.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Image file path and boolean of whether the image path
represents an image sequence, or not.
Returns (None, None) if the function cannot determine
the values accurately.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(str, bool) or (None, None)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.get_frame_range_from_file_pattern">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">get_frame_range_from_file_pattern</code><span class="sig-paren">(</span><em>file_path_pattern</em>, <em>fallback_range=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.get_frame_range_from_file_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a file pattern with ‘#’ characters representing the frame
number, get the full frame range on disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">FrameRange</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="mmSolver.utils.html#mmSolver.utils.time.FrameRange" title="mmSolver.utils.time.FrameRange">FrameRange</a> or (int, int)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.guess_pixel_aspect_ratio">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">guess_pixel_aspect_ratio</code><span class="sig-paren">(</span><em>cam_tfm</em>, <em>cam_shp</em>, <em>img_pl_shp</em>, <em>file_path_pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.guess_pixel_aspect_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a camera node, image plane node and file path pattern try to
guess the expected pixel aspect ratio.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Pixel aspect ratio (PAR) for the camera, or None if none can be
determined.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.query_plate_data">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">query_plate_data</code><span class="sig-paren">(</span><em>cam_tfm</em>, <em>cam_shp</em>, <em>img_pl_shp</em>, <em>test_disk</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.query_plate_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Query plate information from the given camera and image plane.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cam_tfm</strong> (<em>str</em>) – Camera transform node of given image plane shape.</li>
<li><strong>cam_shp</strong> (<em>str</em>) – Camera shape node of given image plane shape.</li>
<li><strong>img_pl_shp</strong> (<em>str</em>) – Image Plane node shape node to query.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.query_camera_data">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">query_camera_data</code><span class="sig-paren">(</span><em>cam_tfm</em>, <em>cam_shp</em>, <em>frames</em>, <em>rotate_order</em>, <em>test_disk</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.query_camera_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the camera information from the given cameras</p>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.generate">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">generate</code><span class="sig-paren">(</span><em>cam_data</em>, <em>plate_data</em>, <em>frame_range</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a JSON formatted string from the input data.</p>
<p>The generated string is then able to be saved to a file.</p>
</dd></dl>

<dl class="function">
<dt id="mmSolver.tools.copypastecamera.lib.write_temp_file">
<code class="descclassname">mmSolver.tools.copypastecamera.lib.</code><code class="descname">write_temp_file</code><span class="sig-paren">(</span><em>data_str</em><span class="sig-paren">)</span><a class="headerlink" href="#mmSolver.tools.copypastecamera.lib.write_temp_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write file.</p>
</dd></dl>

</div>
<div class="section" id="module-mmSolver.tools.copypastecamera.constant">
<span id="constants"></span><h2>Constants<a class="headerlink" href="#module-mmSolver.tools.copypastecamera.constant" title="Permalink to this headline">¶</a></h2>
<p>Contains constant values for the Copy/Paste Camera tool.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mmSolver.tools.copypastecamera</a><ul>
<li><a class="reference internal" href="#tools">Tools</a></li>
<li><a class="reference internal" href="#module-mmSolver.tools.copypastecamera.lib">Library</a></li>
<li><a class="reference internal" href="#module-mmSolver.tools.copypastecamera.constant">Constants</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mmSolver.tools.convertmarker.html"
                        title="previous chapter">mmSolver.tools.convertmarker</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mmSolver.tools.createbundle.html"
                        title="next chapter">mmSolver.tools.createbundle</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mmSolver.tools.copypastecamera.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mmSolver.tools.createbundle.html" title="mmSolver.tools.createbundle"
             >next</a> |</li>
        <li class="right" >
          <a href="mmSolver.tools.convertmarker.html" title="mmSolver.tools.convertmarker"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mayaMatchMoveSolver master documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="mmSolver.tools.html" >mmSolver.tools</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, 2019, 2020, David Cattermole, Anil Reddy..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>